<!doctype html>
<html>
<head>
<meta charset="UTF-8">
    <title>D3 Tutorial</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
     <script type="text/javascript" src="https://www.google.com/jsapi"></script>
</head>

<body>

	<script>
		d3.json("date.json", function(data){ //data in function(data) is data in date.json
		
		var DateArray = [];
		var MonthArray = [];
		var MonthXAxis = ["Jan","Feb", "Mar", "Apr", "May", "Jun","Jul","Aug","Sep","Oct","Nov", "Dec"];
		var counts = {};
		var CountsArray = [];
			for(var key in data) {
				DateArray.push(data[key]);
				console.log(DateArray);
				//alert (typeof data);
			}
		
			for(var key in DateArray) {
				var month_temp = DateArray[key][5]+DateArray[key][6];
				MonthArray.push(month_temp);
			}
			console.log(MonthArray);
			
		for (var i = 0; i< MonthArray.length; i++){
				var num = MonthArray[i];
				counts[num] = counts[num] ? counts[num]+1 : 1;
			};
				console.log(counts);
				
				//Push month counts into CountsArray
		for (var key in counts){
				CountsArray.push(counts[key]);
				console.log(CountsArray);
			}
				
		//Draw the histogram in D3					
		var histogram = d3.layout.histogram()
			.bins(12)
			(CountsArray)

		
		console.log(CountsArray);
		
		
		//set up basic scale
		var width = 700;
		var height = 2000;
		
		var widthScale = d3.scale.linear()
						.domain([0,40]) 
						.range([0,width]);
	
		var colorScale = d3.scale.linear()
						.domain([0,40])
						.range(["red","green"])

		var canvas = d3.select ("body")
			.append("svg")
			.attr("width", width )
			.attr("height", height);
			
		var bars = canvas.selectAll(".rect")
			.data(CountsArray)
			.enter()
				.append("rect")
				.attr("width",function(d) {return widthScale(d);}) 
				.attr("height", 20)
				.attr("y",function(d,i){return i*10})
				.attr("fill", function (d){return colorScale(d)});
		
		})
		
		

		
    </script>

</body>







</html>
